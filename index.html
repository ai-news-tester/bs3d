<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Battleship 3D - Play Against AI</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      /* Ensure the entire viewport is used for the canvas */
      body {
        margin: 0;
        overflow: hidden;
      }
      /* Overlay for game state info */
      #overlay {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 10;
        background: rgba(0, 0, 0, 0.6);
        padding: 10px;
        color: #fff;
        font-family: sans-serif;
        border-radius: 4px;
      }
      #overlay p {
        margin: 5px 0;
      }
      #restartGame {
        margin-top: 10px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Overlay displays turn indicator, wins counter, messages and a restart button -->
    <div id="overlay">
      <p id="turnIndicator">Turn: Player</p>
      <p id="wins">Wins: 0</p>
      <p id="message"></p>
      <button id="restartGame" style="display: none;">Restart Game</button>
    </div>

    <!-- Load Three.js and GSAP from CDNs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>

    <script>
      /* ----- GAME PARAMETERS ----- */
      const boardSize = 10; // 10 x 10 grid
      const cellSize = 1; // each cell is 1 unit
      const numShips = 5; // number of ship cells per board

      let currentTurn = "player"; // "player" or "ai"
      let playerShipRemaining = numShips;
      let aiShipRemaining = numShips;

      let playerBoard = []; // 2D array for player's board
      let aiBoard = []; // 2D array for AI board

      // Three.js groups representing the visual boards:
      let playerGroup, aiGroup;
      let scene, camera, renderer, raycaster;

      // Wins counter is stored in localStorage (persistent across reloads)
      let winsCount = localStorage.getItem("wins")
        ? parseInt(localStorage.getItem("wins"))
        : 0;

      /* ----- UTILITY FUNCTIONS ----- */
      function updateOverlay() {
        document.getElementById("turnIndicator").innerText =
          "Turn: " + (currentTurn === "player" ? "Player" : "AI");
        document.getElementById("wins").innerText = "Wins: " + winsCount;
      }

      function saveWins() {
        localStorage.setItem("wins
